version: '3'
services:
  lair:
    build:
      context: "../.."
      dockerfile: "./cmd/Dockerfile"
      args:
        APP_NAME: "lair"
        APP_VERSION: "0.0.0-dev.0"
    # Default command is set in Dockerfile - you can override it here to use a different config file or command
    #command: ["-c", "/usr/share/chronicle-suite/config.hcl", "run"]
    environment: # values are set in .env file - not committed on purpose
      CFG_ETH_RPC_URLS: ${ETH_RPCS} # comma separated list of ethereum rpc urls
      CFG_ETH_CHAIN_ID: ${ETH_CHID} # ethereum chain id
      CFG_ARB_RPC_URLS: ${ARB_RPCS} # comma separated list of arbitrum rpc urls
      CFG_ARB_CHAIN_ID: ${ARB_CHID} # arbitrum chain id
      CFG_OPT_RPC_URLS: ${OPT_RPCS} # comma separated list of optimism rpc urls
      CFG_OPT_CHAIN_ID: ${OPT_CHID} # optimism chain id

      CFG_ETH_FROM: ${ETH_FROM} # address to send txs from
      CFG_ETH_KEYS: ${ETH_KEYS} # JSON structure with ethereum key OR path to dir with key(s)
      CFG_ETH_PASS: ${ETH_PASS} # password for the key(s)

      CFG_FEEDS: "stage"
      CFG_SPECTRE_TARGET_NETWORK: "ethereum-goerli"
