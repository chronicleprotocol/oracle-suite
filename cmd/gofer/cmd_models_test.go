//  Copyright (C) 2021-2023 Chronicle Labs, Inc.
//
//  This program is free software: you can redistribute it and/or modify
//  it under the terms of the GNU Affero General Public License as
//  published by the Free Software Foundation, either version 3 of the
//  License, or (at your option) any later version.
//
//  This program is distributed in the hope that it will be useful,
//  but WITHOUT ANY WARRANTY; without even the implied warranty of
//  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
//  GNU Affero General Public License for more details.
//
//  You should have received a copy of the GNU Affero General Public License
//  along with this program.  If not, see <http://www.gnu.org/licenses/>.

package main

import (
	"bytes"
	"io"
	"log"
	"os"
	"sync"
	"testing"

	"github.com/stretchr/testify/assert"
)

var modelList = `
AAVE/USD
ARB/USD
AVAX/USD
BNB/USD
BTC/USD
CRV/USD
DAI/USD
ETH/BTC
ETH/USD
FRAX/USD
GNO/USD
IBTA/USD
LDO/USD
LINK/USD
MATIC/USD
MKR/ETH
MKR/USD
OP/USD
RETH/ETH
RETH/USD
SDAI/DAI
SNX/USD
SOL/USD
STETH/ETH
STETH/USD
UNI/USD
USDC/USD
USDT/USD
WBTC/USD
WSTETH/ETH
WSTETH/USD
XTZ/USD
YFI/USD
`[1:]

func captureOutput(f func()) string {
	reader, writer, err := os.Pipe()
	if err != nil {
		panic(err)
	}
	stdout := os.Stdout
	stderr := os.Stderr
	defer func() {
		os.Stdout = stdout
		os.Stderr = stderr
		log.SetOutput(os.Stderr)
	}()
	os.Stdout = writer
	os.Stderr = writer
	log.SetOutput(writer)
	out := make(chan string)
	wg := new(sync.WaitGroup)
	wg.Add(1)
	go func() {
		var buf bytes.Buffer
		wg.Done()
		io.Copy(&buf, reader)
		out <- buf.String()
	}()
	wg.Wait()
	f()
	writer.Close()
	return <-out
}

func TestNewModelsCmd_List(t *testing.T) {
	out := captureOutput(func() {
		os.Args = []string{"gofer", "-c", "../../config.hcl", "models"}
		main()
	})
	assert.Equal(t, modelList, out)
}

func TestNewModelsCmd(t *testing.T) {
	out := captureOutput(func() {
		os.Args = []string{"gofer", "-c", "../../config.hcl", "models", "-o", "trace", "--no-color"}
		main()
	})
	assert.Equal(t, completeDataModels, out)
}

var completeDataModels = `
Model for AAVE/USD:
───reference()
   └──median(min_values:3)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:AAVE/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:AAVE/USD)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:AAVE/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:AAVE/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:AAVE/USD)
      └──indirect()
         ├──alias(alias:AAVE/ETH)
         │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:AAVE/WETH)
         └──reference()
            └──median(min_values:3)
               ├──indirect()
               │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
               └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
Model for ARB/USD:
───reference()
   └──median(min_values:3)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ARB/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ARB/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ARB/USD)
      ├──indirect()
      │  ├──alias(alias:ARB/ETH)
      │  │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:ARB/WETH)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
      └──indirect()
         ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:ARB/USDT)
         └──reference()
            └──median(min_values:3)
               ├──indirect()
               │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               ├──alias(alias:USDT/USD)
               │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
               └──indirect()
                  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
                  └──reference()
                     └──median(min_values:3)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
                        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
Model for AVAX/USD:
───reference()
   └──median(min_values:3)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:AVAX/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:AVAX/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:AVAX/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:AVAX/USD)
      └──indirect()
         ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kucoin, query:AVAX/USDT)
         └──reference()
            └──median(min_values:3)
               ├──indirect()
               │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               ├──alias(alias:USDT/USD)
               │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
               └──indirect()
                  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
                  └──reference()
                     └──median(min_values:3)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
                        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
Model for BNB/USD:
───reference()
   └──median(min_values:2)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BNB/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kucoin, query:BNB/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      └──indirect()
         ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BNB/USDT)
         └──reference()
            └──median(min_values:3)
               ├──indirect()
               │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               ├──alias(alias:USDT/USD)
               │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
               └──indirect()
                  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
                  └──reference()
                     └──median(min_values:3)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
                        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
Model for BTC/USD:
───reference()
   └──median(min_values:3)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
Model for CRV/USD:
───reference()
   └──median(min_values:3)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:CRV/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:CRV/USD)
      ├──indirect()
      │  ├──alias(alias:CRV/ETH)
      │  │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:CRV/WETH)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:CRV/USD)
      ├──indirect()
      │  ├──alias(alias:ETH/CRV)
      │  │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:sushiswap, query:WETH/CRV)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
      └──indirect()
         ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:CRV/USDT)
         └──reference()
            └──median(min_values:3)
               ├──indirect()
               │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               ├──alias(alias:USDT/USD)
               │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
               └──indirect()
                  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
                  └──reference()
                     └──median(min_values:3)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
                        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
Model for DAI/USD:
───reference()
   └──median(min_values:5)
      ├──indirect()
      │  ├──alias(alias:DAI/USDC)
      │  │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:DAI/USDC)
      │  └──reference()
      │     └──median(min_values:5)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDC)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDC/USD)
      │        ├──indirect()
      │        │  ├──alias(alias:USDC/ETH)
      │        │  │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:USDC/WETH)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──indirect()
      │        │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
      │        │        │  └──reference()
      │        │        │     └──median(min_values:3)
      │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:curve, query:USDC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──indirect()
      │        │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │        │  └──reference()
      │        │        │     └──median(min_values:3)
      │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        │        ├──alias(alias:USDT/USD)
      │        │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        │        └──indirect()
      │        │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │        │           └──reference()
      │        │              └──median(min_values:3)
      │        │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:USDC/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:USDC/USD)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:USDT/DAI)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:DAI/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:DAI/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:DAI/USD)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:ETH/DAI)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
      ├──indirect()
      │  ├──alias(alias:DAI/ETH)
      │  │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:sushiswap, query:DAI/WETH)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
      └──indirect()
         ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:curve, query:DAI/USDT)
         └──reference()
            └──median(min_values:3)
               ├──indirect()
               │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               ├──alias(alias:USDT/USD)
               │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
               └──indirect()
                  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
                  └──reference()
                     └──median(min_values:3)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
                        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
Model for ETH/BTC:
───reference()
   └──median(min_values:3)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/BTC)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/BTC)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/BTC)
      └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/BTC)
Model for ETH/USD:
───reference()
   └──median(min_values:3)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
      └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
Model for FRAX/USD:
───reference()
   └──median(min_values:2)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:curve, query:FRAX/USDC)
      │  └──reference()
      │     └──median(min_values:5)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDC)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDC/USD)
      │        ├──indirect()
      │        │  ├──alias(alias:USDC/ETH)
      │        │  │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:USDC/WETH)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──indirect()
      │        │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
      │        │        │  └──reference()
      │        │        │     └──median(min_values:3)
      │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:curve, query:USDC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──indirect()
      │        │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │        │  └──reference()
      │        │        │     └──median(min_values:3)
      │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        │        ├──alias(alias:USDT/USD)
      │        │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        │        └──indirect()
      │        │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │        │           └──reference()
      │        │              └──median(min_values:3)
      │        │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:USDC/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:USDC/USD)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:FRAX/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      └──indirect()
         ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:DAI/FRAX)
         └──reference()
            └──median(min_values:5)
               ├──indirect()
               │  ├──alias(alias:DAI/USDC)
               │  │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:DAI/USDC)
               │  └──reference()
               │     └──median(min_values:5)
               │        ├──indirect()
               │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDC)
               │        │  └──reference()
               │        │     └──median(min_values:3)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDC/USD)
               │        ├──indirect()
               │        │  ├──alias(alias:USDC/ETH)
               │        │  │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:USDC/WETH)
               │        │  └──reference()
               │        │     └──median(min_values:3)
               │        │        ├──indirect()
               │        │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
               │        │        │  └──reference()
               │        │        │     └──median(min_values:3)
               │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
               │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
               │        ├──indirect()
               │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:curve, query:USDC/USDT)
               │        │  └──reference()
               │        │     └──median(min_values:3)
               │        │        ├──indirect()
               │        │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
               │        │        │  └──reference()
               │        │        │     └──median(min_values:3)
               │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               │        │        ├──alias(alias:USDT/USD)
               │        │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
               │        │        └──indirect()
               │        │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
               │        │           └──reference()
               │        │              └──median(min_values:3)
               │        │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:USDC/USD)
               │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:USDC/USD)
               ├──indirect()
               │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:USDT/DAI)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──indirect()
               │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
               │        │  └──reference()
               │        │     └──median(min_values:3)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               │        ├──alias(alias:USDT/USD)
               │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
               │        └──indirect()
               │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
               │           └──reference()
               │              └──median(min_values:3)
               │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:DAI/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:DAI/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:DAI/USD)
               ├──indirect()
               │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:ETH/DAI)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──indirect()
               │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
               │        │  └──reference()
               │        │     └──median(min_values:3)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
               │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
               ├──indirect()
               │  ├──alias(alias:DAI/ETH)
               │  │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:sushiswap, query:DAI/WETH)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──indirect()
               │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
               │        │  └──reference()
               │        │     └──median(min_values:3)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
               │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
               └──indirect()
                  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:curve, query:DAI/USDT)
                  └──reference()
                     └──median(min_values:3)
                        ├──indirect()
                        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
                        │  └──reference()
                        │     └──median(min_values:3)
                        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
                        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
                        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
                        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
                        ├──alias(alias:USDT/USD)
                        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
                        └──indirect()
                           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
                           └──reference()
                              └──median(min_values:3)
                                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
                                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
                                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
                                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
Model for GNO/USD:
───reference()
   └──median(min_values:2)
      ├──indirect()
      │  ├──alias(alias:GNO/ETH)
      │  │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:GNO/WETH)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:GNO/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:GNO/USD)
      └──indirect()
         ├──alias(alias:GNO/ETH)
         │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:balancerV2, query:GNO/WETH)
         └──reference()
            └──median(min_values:3)
               ├──indirect()
               │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
               └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
Model for IBTA/USD:
───reference()
   └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:ishares, query:IBTA/USD)
Model for LDO/USD:
───reference()
   └──median(min_values:4)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:LDO/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:LDO/USD)
      ├──indirect()
      │  ├──alias(alias:LDO/ETH)
      │  │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:LDO/WETH)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:LDO/USD)
      └──indirect()
         ├──alias(alias:LDO/ETH)
         │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:curve, query:LDO/WETH)
         └──reference()
            └──median(min_values:3)
               ├──indirect()
               │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
               └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
Model for LINK/USD:
───reference()
   └──median(min_values:5)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:LINK/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:LINK/USD)
      ├──indirect()
      │  ├──alias(alias:LINK/ETH)
      │  │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:LINK/WETH)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:LINK/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:LINK/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:LINK/USD)
      └──indirect()
         ├──alias(alias:LINK/ETH)
         │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:sushiswap, query:LINK/WETH)
         └──reference()
            └──median(min_values:3)
               ├──indirect()
               │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
               └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
Model for MATIC/USD:
───reference()
   └──median(min_values:3)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:MATIC/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:MATIC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:MATIC/USD)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:huobi, query:MATIC/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:MATIC/USD)
Model for MKR/ETH:
───reference()
   └──median(min_values:3)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:MKR/BTC)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/BTC)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/BTC)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/BTC)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/BTC)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:MKR/USD)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:MKR/USD)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:MKR/USD)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
      └──indirect()
         ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:MKR/USD)
         └──reference()
            └──median(min_values:3)
               ├──indirect()
               │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
               └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
Model for MKR/USD:
───reference()
   └──median(min_values:3)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:MKR/BTC)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:MKR/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:MKR/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:MKR/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:MKR/USD)
      ├──indirect()
      │  ├──alias(alias:MKR/ETH)
      │  │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:MKR/WETH)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
      └──indirect()
         ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:MKR/USDC)
         └──reference()
            └──median(min_values:5)
               ├──indirect()
               │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDC)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDC/USD)
               ├──indirect()
               │  ├──alias(alias:USDC/ETH)
               │  │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:USDC/WETH)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──indirect()
               │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
               │        │  └──reference()
               │        │     └──median(min_values:3)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
               │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
               ├──indirect()
               │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:curve, query:USDC/USDT)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──indirect()
               │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
               │        │  └──reference()
               │        │     └──median(min_values:3)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               │        ├──alias(alias:USDT/USD)
               │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
               │        └──indirect()
               │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
               │           └──reference()
               │              └──median(min_values:3)
               │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:USDC/USD)
               └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:USDC/USD)
Model for OP/USD:
───reference()
   └──median(min_values:2)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:OP/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:OP/USD)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:OP/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      └──indirect()
         ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kucoin, query:OP/USDT)
         └──reference()
            └──median(min_values:3)
               ├──indirect()
               │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               ├──alias(alias:USDT/USD)
               │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
               └──indirect()
                  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
                  └──reference()
                     └──median(min_values:3)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
                        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
Model for RETH/ETH:
───reference()
   └──median(min_values:3)
      ├──alias(alias:RETH/ETH)
      │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:balancerV2, query:RETH/WETH)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:curve, query:RETH/WSTETH)
      │  └──reference()
      │     └──median(min_values:2)
      │        ├──alias(alias:WSTETH/ETH)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:WSTETH/WETH)
      │        ├──alias(alias:WSTETH/ETH)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:balancerV2, query:WSTETH/WETH)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:wsteth, query:WSTETH/STETH)
      │           └──reference()
      │              └──median(min_values:2)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:curve, query:STETH/ETH)
      └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:rocketpool, query:RETH/ETH)
Model for RETH/USD:
───reference()
   └──indirect()
      ├──reference()
      │  └──median(min_values:3)
      │     ├──alias(alias:RETH/ETH)
      │     │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:balancerV2, query:RETH/WETH)
      │     ├──indirect()
      │     │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:curve, query:RETH/WSTETH)
      │     │  └──reference()
      │     │     └──median(min_values:2)
      │     │        ├──alias(alias:WSTETH/ETH)
      │     │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:WSTETH/WETH)
      │     │        ├──alias(alias:WSTETH/ETH)
      │     │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:balancerV2, query:WSTETH/WETH)
      │     │        └──indirect()
      │     │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:wsteth, query:WSTETH/STETH)
      │     │           └──reference()
      │     │              └──median(min_values:2)
      │     │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:curve, query:STETH/ETH)
      │     └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:rocketpool, query:RETH/ETH)
      └──reference()
         └──median(min_values:3)
            ├──indirect()
            │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
            │  └──reference()
            │     └──median(min_values:3)
            │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
            │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
            │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
            │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
            ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
            ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
            ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
            └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
Model for SDAI/DAI:
───reference()
   └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:sdai, query:SDAI/DAI)
Model for SNX/USD:
───reference()
   └──median(min_values:3)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:SNX/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:SNX/USD)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:USDC/SNX)
      │  └──reference()
      │     └──median(min_values:5)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDC)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDC/USD)
      │        ├──indirect()
      │        │  ├──alias(alias:USDC/ETH)
      │        │  │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:USDC/WETH)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──indirect()
      │        │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
      │        │        │  └──reference()
      │        │        │     └──median(min_values:3)
      │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:curve, query:USDC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──indirect()
      │        │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │        │  └──reference()
      │        │        │     └──median(min_values:3)
      │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        │        ├──alias(alias:USDT/USD)
      │        │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        │        └──indirect()
      │        │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │        │           └──reference()
      │        │              └──median(min_values:3)
      │        │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:USDC/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:USDC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:SNX/USD)
      └──indirect()
         ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:SNX/USDT)
         └──reference()
            └──median(min_values:3)
               ├──indirect()
               │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               ├──alias(alias:USDT/USD)
               │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
               └──indirect()
                  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
                  └──reference()
                     └──median(min_values:3)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
                        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
Model for SOL/USD:
───reference()
   └──median(min_values:3)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:SOL/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:SOL/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:SOL/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:SOL/USD)
      └──indirect()
         ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:SOL/USDT)
         └──reference()
            └──median(min_values:3)
               ├──indirect()
               │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               ├──alias(alias:USDT/USD)
               │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
               └──indirect()
                  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
                  └──reference()
                     └──median(min_values:3)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
                        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
Model for STETH/ETH:
───reference()
   └──median(min_values:2)
      └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:curve, query:STETH/ETH)
Model for STETH/USD:
───reference()
   └──median(min_values:2)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:curve, query:STETH/ETH)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
      └──indirect()
         ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:STETH/USDT)
         └──reference()
            └──median(min_values:3)
               ├──indirect()
               │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               ├──alias(alias:USDT/USD)
               │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
               └──indirect()
                  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
                  └──reference()
                     └──median(min_values:3)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
                        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
                        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
Model for UNI/USD:
───reference()
   └──median(min_values:4)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:UNI/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:UNI/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:UNI/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:UNI/USD)
      └──indirect()
         ├──alias(alias:UNI/ETH)
         │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:UNI/WETH)
         └──reference()
            └──median(min_values:3)
               ├──indirect()
               │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
               └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
Model for USDC/USD:
───reference()
   └──median(min_values:5)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDC)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDC/USD)
      ├──indirect()
      │  ├──alias(alias:USDC/ETH)
      │  │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:USDC/WETH)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:curve, query:USDC/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:USDC/USD)
      └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:USDC/USD)
Model for USDT/USD:
───reference()
   └──median(min_values:3)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──alias(alias:USDT/USD)
      │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      └──indirect()
         ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
         └──reference()
            └──median(min_values:3)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
Model for WBTC/USD:
───reference()
   └──median(min_values:3)
      ├──indirect()
      │  ├──alias(alias:WBTC/ETH)
      │  │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:WBTC/WETH)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:WBTC/BTC)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:curve, query:WBTC/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:WBTC/USD)
      └──indirect()
         ├──alias(alias:WBTC/ETH)
         │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:sushiswap, query:WBTC/WETH)
         └──reference()
            └──median(min_values:3)
               ├──indirect()
               │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
               └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
Model for WSTETH/ETH:
───reference()
   └──median(min_values:2)
      ├──alias(alias:WSTETH/ETH)
      │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:WSTETH/WETH)
      ├──alias(alias:WSTETH/ETH)
      │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:balancerV2, query:WSTETH/WETH)
      └──indirect()
         ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:wsteth, query:WSTETH/STETH)
         └──reference()
            └──median(min_values:2)
               └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:curve, query:STETH/ETH)
Model for WSTETH/USD:
───reference()
   └──indirect()
      ├──reference()
      │  └──median(min_values:2)
      │     ├──alias(alias:WSTETH/ETH)
      │     │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:uniswapV3, query:WSTETH/WETH)
      │     ├──alias(alias:WSTETH/ETH)
      │     │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:balancerV2, query:WSTETH/WETH)
      │     └──indirect()
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:wsteth, query:WSTETH/STETH)
      │        └──reference()
      │           └──median(min_values:2)
      │              └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:curve, query:STETH/ETH)
      └──reference()
         └──median(min_values:3)
            ├──indirect()
            │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
            │  └──reference()
            │     └──median(min_values:3)
            │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
            │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
            │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
            │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
            ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
            ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
            ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
            └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
Model for XTZ/USD:
───reference()
   └──median(min_values:2)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:XTZ/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:XTZ/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:XTZ/USD)
      └──indirect()
         ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:XTZ/BTC)
         └──reference()
            └──median(min_values:3)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
Model for YFI/USD:
───reference()
   └──median(min_values:2)
      ├──indirect()
      │  ├──alias(alias:ETH/YFI)
      │  │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:balancerV2, query:WETH/YFI)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
      │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:YFI/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:YFI/USD)
      ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:YFI/USD)
      ├──indirect()
      │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:YFI/USDT)
      │  └──reference()
      │     └──median(min_values:3)
      │        ├──indirect()
      │        │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:BTC/USDT)
      │        │  └──reference()
      │        │     └──median(min_values:3)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │        │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │        │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      │        ├──alias(alias:USDT/USD)
      │        │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitfinex, query:UST/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:USDT/USD)
      │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:USDT/USD)
      │        └──indirect()
      │           ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:okx, query:BTC/USDT)
      │           └──reference()
      │              └──median(min_values:3)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
      │                 ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
      │                 └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
      └──indirect()
         ├──alias(alias:YFI/ETH)
         │  └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:sushiswap, query:YFI/WETH)
         └──reference()
            └──median(min_values:3)
               ├──indirect()
               │  ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:binance, query:ETH/BTC)
               │  └──reference()
               │     └──median(min_values:3)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:BTC/USD)
               │        ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:BTC/USD)
               │        └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:BTC/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:bitstamp, query:ETH/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:coinbase, query:ETH/USD)
               ├──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:gemini, query:ETH/USD)
               └──origin(expiry_threshold:5m0s, freshness_threshold:1m0s, origin:kraken, query:ETH/USD)

`[1:]
